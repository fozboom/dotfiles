---

- clean: ['~']

# See https://ohmyz.sh
- shell:
  - command: |
      ZSH_DIR="${ZSH:-$HOME/.oh-my-zsh}"
      if [ -d "$ZSH_DIR" ]; then
        echo "Oh My Zsh already installed at $ZSH_DIR, skipping"
      else
        ZSH="$ZSH_DIR" RUNZSH=no CHSH=no KEEP_ZSHRC=yes \
          sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" || true
      fi
    description: Install Oh-My-Zsh
    stdout: true
    stderr: true

- link:
  # Terminal:
    ~/.shell:
      path: shell
      create: true
      force: true
      relink: true
    ~/.zshrc:
      path: config/zshrc
      force: true
    ~/.zshenv:
      path: config/zshenv
      force: true
    ~/.zplugrc:
      path: config/zplugrc
      force: true
    ~/.p10k.zsh:
      path: config/p10k.zsh
      force: true